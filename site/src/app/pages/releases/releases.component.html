<section class="section container">
    <h2>Albums</h2>
    <div *ngIf="loading" class="loading" style="text-align:center;padding:16px;">Loading…</div>
    <div *ngIf="!loading && error" class="error" style="text-align:center;padding:16px;">
        <p>We couldn’t load releases right now.</p>
        <button class="button" (click)="reload()">Retry</button>
    </div>
    <div class="card-grid" *ngIf="!loading && !error && albums.length">
        <article class="glass" *ngFor="let s of albums" style="padding:16px;">
            <img class="cover" [src]="s.coverArt || s.thumb_url || s.heroImage" [alt]="s.title" />
            <h3 style="margin:12px 0 4px;">{{s.title}}</h3>
            <p class="small">{{s.artist}} <span *ngIf="s.featuredArtists?.length">• feat. {{s.featuredArtists.join(', ')}}</span>
                <!-- <span *ngIf="s.featured" class="badge">Featured Album</span> -->
            </p>
            <div class="button-row">
                <a *ngIf="s.preSaveLinks?.appleMusic || s.links?.appleMusic" class="button" [href]="s.preSaveLinks?.appleMusic || s.links?.appleMusic" target="_blank">Apple</a>
                <a *ngIf="s.preSaveLinks?.spotify || s.links?.spotify" class="button" [href]="s.preSaveLinks?.spotify || s.links?.spotify" target="_blank">Spotify</a>
                <a *ngIf="s.preSaveLinks?.youtubeMusic || s.links?.youtubeMusic" class="button" [href]="s.preSaveLinks?.youtubeMusic || s.links?.youtubeMusic" target="_blank">YouTube</a>
                <a *ngIf="s.preSaveLinks?.allPlatforms || s.links?.allPlatforms" class="button" [href]="s.preSaveLinks?.allPlatforms || s.links?.allPlatforms" target="_blank">Other</a>
            </div>
        </article>
    </div>
</section>

<section class="section container">
    <h2>Releases</h2>
    <div *ngIf="loading" class="loading" style="text-align:center;padding:16px;">Loading…</div>
    <div *ngIf="!loading && error" class="error" style="text-align:center;padding:16px;">
        <p>We couldn’t load releases right now.</p>
        <button class="button" (click)="reload()">Retry</button>
    </div>
    <div class="card-grid" *ngIf="!loading && !error && releases.length">
        <article class="glass" *ngFor="let s of releases" style="padding:16px;">
            <img class="cover" [src]="s.coverArt || s.thumb_url || s.heroImage" [alt]="s.title" />
            <h3 style="margin:12px 0 4px;">{{s.title}}</h3>
            <p class="small">{{s.artist}} <span *ngIf="s.featuredArtists?.length">• feat. {{s.featuredArtists.join(', ')}}</span>
            </p>
            <div class="button-row">
                <a *ngIf="s.preSaveLinks?.appleMusic || s.links?.appleMusic" class="button" [href]="s.preSaveLinks?.appleMusic || s.links?.appleMusic" target="_blank">Apple</a>
                <a *ngIf="s.preSaveLinks?.spotify || s.links?.spotify" class="button" [href]="s.preSaveLinks?.spotify || s.links?.spotify" target="_blank">Spotify</a>
                <a *ngIf="s.preSaveLinks?.youtubeMusic || s.links?.youtubeMusic" class="button" [href]="s.preSaveLinks?.youtubeMusic || s.links?.youtubeMusic" target="_blank">YouTube</a>
                <a *ngIf="s.preSaveLinks?.allPlatforms || s.links?.allPlatforms" class="button" [href]="s.preSaveLinks?.allPlatforms || s.links?.allPlatforms" target="_blank">Other</a>
            </div>
        </article>
    </div>
</section>